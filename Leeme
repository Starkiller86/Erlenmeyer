# ğŸ§ª Sistema de GestiÃ³n de Inventario de Reactivos QuÃ­micos

Sistema web completo para la gestiÃ³n del inventario del Laboratorio de NanotecnologÃ­a de la Universidad TecnolÃ³gica de QuerÃ©taro.

## ğŸ“‹ DescripciÃ³n del Proyecto

AplicaciÃ³n web desarrollada como parte del servicio social que permite:
- âœ… Registro rÃ¡pido de reactivos quÃ­micos
- ğŸ¯ GeneraciÃ³n automÃ¡tica de cÃ³digos QR Ãºnicos
- ğŸ“· Lectura de cÃ³digos QR desde la cÃ¡mara web/mÃ³vil
- ğŸ“Š VisualizaciÃ³n y bÃºsqueda del inventario
- âš ï¸ Sistema de alertas por nivel de peligrosidad
- ğŸ” BÃºsqueda automÃ¡tica de fÃ³rmulas quÃ­micas

## ğŸ—ï¸ Arquitectura del Proyecto

```
proyecto-reactivos/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Componentes reutilizables
â”‚   â”‚   â”œâ”€â”€ Navbar/        # Barra de navegaciÃ³n
â”‚   â”‚   â”œâ”€â”€ FormularioReactivo/  # Formulario de alta
â”‚   â”‚   â””â”€â”€ LectorQR/      # Lector de cÃ³digos QR
â”‚   â”œâ”€â”€ pages/             # PÃ¡ginas de la aplicaciÃ³n
â”‚   â”‚   â”œâ”€â”€ Inicio.jsx     # PÃ¡gina principal
â”‚   â”‚   â”œâ”€â”€ AltaReactivo.jsx  # PÃ¡gina de registro
â”‚   â”‚   â”œâ”€â”€ MostrarReactivo.jsx  # Lista de reactivos
â”‚   â”‚   â””â”€â”€ LectorQR.jsx   # PÃ¡gina de escÃ¡ner
â”‚   â”œâ”€â”€ routes/            # ConfiguraciÃ³n de rutas
â”‚   â”‚   â””â”€â”€ routes.jsx
â”‚   â”œâ”€â”€ services/          # Servicios de API
â”‚   â”‚   â”œâ”€â”€ api.service.js      # ComunicaciÃ³n con backend
â”‚   â”‚   â””â”€â”€ database.service.js # Operaciones de BD
â”‚   â”œâ”€â”€ utils/             # Utilidades
â”‚   â”‚   â””â”€â”€ qrCodeUtils.js # GeneraciÃ³n de cÃ³digos QR
â”‚   â”œâ”€â”€ config/            # ConfiguraciÃ³n
â”‚   â”‚   â””â”€â”€ database.config.js
â”‚   â”œâ”€â”€ App.jsx            # Componente principal
â”‚   â””â”€â”€ main.jsx           # Punto de entrada
â”œâ”€â”€ database/              # Scripts de base de datos
â”‚   â””â”€â”€ schema.sql         # Esquema completo de BD
â”œâ”€â”€ public/                # Archivos pÃºblicos
â”‚   â””â”€â”€ qr-codes/          # ImÃ¡genes QR generadas
â”œâ”€â”€ server.js              # Servidor backend (Node.js + Express)
â”œâ”€â”€ package.json           # Dependencias del proyecto
â”œâ”€â”€ vite.config.js         # ConfiguraciÃ³n de Vite
â””â”€â”€ README.md              # Este archivo

```

## ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n

### Requisitos Previos

- **Node.js** (v18 o superior): [Descargar aquÃ­](https://nodejs.org/)
- **MySQL** (v8.0 o superior): [Descargar aquÃ­](https://dev.mysql.com/downloads/)
- **Git**: [Descargar aquÃ­](https://git-scm.com/)

### Paso 1: Clonar el Repositorio

```bash
git clone <url-del-repositorio>
cd proyecto-reactivos
```

### Paso 2: Instalar Dependencias

```bash
npm install mysql2
npm install react-router-dom
```

Este comando instalarÃ¡ todas las dependencias necesarias tanto para el frontend como para el backend.

### Paso 3: Configurar la Base de Datos

1. **Inicia MySQL** en tu computadora

2. **Crea la base de datos** ejecutando el script SQL:

```bash
mysql -u root -p < database/schema.sql
```

O manualmente desde MySQL Workbench/phpMyAdmin:
- Abre el archivo `database/schema.sql`
- Ejecuta todo el contenido

3. **Verifica la creaciÃ³n**:
```sql
USE inventario_reactivos;
SHOW TABLES;
```

DeberÃ­as ver las tablas: `reactivos`, `clasificaciones`, `historial_movimientos`, `usuarios`

### Paso 4: Configurar Variables de Entorno

1. **Copia el archivo de ejemplo**:
```bash
cp .env.example .env
```

2. **Edita el archivo `.env`** con tus credenciales:

```env
# ConfiguraciÃ³n de Base de Datos
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=tu_contraseÃ±a_mysql
DB_NAME=inventario_reactivos

# ConfiguraciÃ³n del Servidor
PORT=3001
NODE_ENV=development

# URL de la API para el frontend
VITE_API_URL=http://localhost:3001/api
```

### Paso 5: Crear Directorio para CÃ³digos QR

```bash
mkdir -p public/qr-codes
```

## â–¶ï¸ EjecuciÃ³n de la AplicaciÃ³n

### OpciÃ³n 1: Ejecutar Todo Junto (Recomendado)

```bash
npm start
```

Este comando inicia:
- âœ… Servidor backend en `http://localhost:3001`
- âœ… Frontend React en `http://localhost:5173`

### OpciÃ³n 2: Ejecutar por Separado

**Terminal 1 - Backend:**
```bash
npm run server:dev
```

**Terminal 2 - Frontend:**
```bash
npm run dev
```

### Acceder a la AplicaciÃ³n

Abre tu navegador en: **http://localhost:5173**

## ğŸ“± Funcionalidades Principales

### 1. Registro de Reactivos

**Ruta:** `/alta`

- Formulario intuitivo con validaciÃ³n
- BÃºsqueda automÃ¡tica de fÃ³rmulas quÃ­micas (PubChem API)
- GeneraciÃ³n automÃ¡tica de cÃ³digo QR Ãºnico
- ClasificaciÃ³n por nivel de peligrosidad con colores
- Descarga de cÃ³digo QR como imagen PNG

**Campos del formulario:**
- Nombre del reactivo (requerido)
- ClasificaciÃ³n (requerido)
- FÃ³rmula quÃ­mica (opcional, con bÃºsqueda automÃ¡tica)
- NÃºmero CAS
- PresentaciÃ³n (lÃ­quido, sÃ³lido, gas, etc.)
- Cantidad y unidad de medida
- Stock mÃ­nimo
- UbicaciÃ³n en laboratorio
- NÃºmero de frascos
- InformaciÃ³n adicional (lote, caducidad, fabricante, etc.)

### 2. Lector de QR

**Ruta:** `/lector`

- Escaneo desde cÃ¡mara web o mÃ³vil
- SelecciÃ³n de cÃ¡mara (frontal/trasera)
- BÃºsqueda manual por cÃ³digo
- VisualizaciÃ³n inmediata de informaciÃ³n del reactivo
- Indicadores de nivel de peligro

**CaracterÃ­sticas:**
- âœ… Compatible con todos los dispositivos
- âœ… Funciona en navegadores modernos
- âœ… Soporte para mÃºltiples cÃ¡maras
- âœ… Feedback visual y por vibraciÃ³n

### 3. VisualizaciÃ³n de Inventario

**Ruta:** `/mostrar`

- Lista completa de reactivos
- Filtros por nombre, clasificaciÃ³n y estado
- BÃºsqueda en tiempo real
- Vista detallada en modal
- Descarga de cÃ³digo QR individual
- Indicadores visuales de stock y peligrosidad

### 4. PÃ¡gina de Inicio

**Ruta:** `/`

- Dashboard con estadÃ­sticas
- Accesos rÃ¡pidos a funciones principales
- Resumen del estado del inventario
- InformaciÃ³n del sistema

## ğŸ¨ Sistema de ClasificaciÃ³n por Colores

El sistema usa colores para identificar rÃ¡pidamente el tipo y peligrosidad de los reactivos:

| Color | ClasificaciÃ³n | Nivel de Peligro |
|-------|--------------|------------------|
| ğŸ”´ Rojo | Ãcido / Corrosivo / TÃ³xico | Muy Alto |
| ğŸŸ  Naranja | Oxidante / Inflamable | Alto |
| ğŸŸ¡ Amarillo | Irritante | Medio |
| ğŸ”µ Azul | Base / AnalÃ­tico | Variable |
| ğŸŸ¢ Verde | BioquÃ­mico / Bajo riesgo | Bajo |
| âš« Gris | TÃ©cnico / EstÃ¡ndar | Bajo |

## ğŸ” Nomenclatura de CÃ³digos QR

**Formato:** `LAB-{ID}-{CLASIFICACIÃ“N}-{AÃ‘O}`

**Ejemplo:** `LAB-00042-ACD-2026`

- **LAB:** Prefijo del laboratorio
- **00042:** ID del reactivo (5 dÃ­gitos con ceros)
- **ACD:** CÃ³digo de clasificaciÃ³n (3 letras)
- **2026:** AÃ±o de registro

**Ventajas:**
- âœ… IdentificaciÃ³n Ãºnica e irrepetible
- âœ… Trazabilidad por aÃ±o y clasificaciÃ³n
- âœ… FÃ¡cil lectura visual
- âœ… Compatible con escÃ¡neres industriales

## ğŸ”§ Scripts Disponibles

```bash
# Desarrollo
npm run dev          # Inicia solo el frontend
npm run server:dev   # Inicia solo el backend con auto-reload
npm start           # Inicia frontend y backend juntos

# ProducciÃ³n
npm run build       # Genera build de producciÃ³n del frontend
npm run preview     # Vista previa del build
npm run server      # Inicia servidor en modo producciÃ³n

# Base de datos
mysql -u root -p < database/schema.sql  # Crear/actualizar BD
```

## ğŸ—„ï¸ Estructura de la Base de Datos

### Tablas Principales

1. **clasificaciones**: Tipos de reactivos (Ã¡cido, base, oxidante, etc.)
2. **reactivos**: InformaciÃ³n completa de cada reactivo
3. **historial_movimientos**: Registro de entradas/salidas
4. **usuarios**: Sistema de usuarios (para futuras mejoras)

### Vistas

- **vista_reactivos_completa**: Join de reactivos con clasificaciones
- **vista_estadisticas**: EstadÃ­sticas por clasificaciÃ³n

### Procedimientos Almacenados

- **registrar_movimiento**: Registra movimientos de inventario con actualizaciÃ³n automÃ¡tica

## ğŸŒ API Endpoints

### Clasificaciones
- `GET /api/clasificaciones` - Lista todas las clasificaciones

### Reactivos
- `GET /api/reactivos` - Lista reactivos con filtros opcionales
- `POST /api/reactivos` - Crea nuevo reactivo
- `GET /api/reactivos/:id` - Obtiene un reactivo por ID
- `GET /api/reactivos/qr/:codigo` - Busca reactivo por cÃ³digo QR

### CÃ³digos QR
- `GET /api/qr/generar/:codigo` - Genera imagen QR

### EstadÃ­sticas
- `GET /api/estadisticas` - Obtiene estadÃ­sticas del inventario

### BÃºsqueda QuÃ­mica
- `GET /api/quimica/buscar?nombre={nombre}` - Busca fÃ³rmula en PubChem

### Health Check
- `GET /api/health` - Verifica estado de la API

## ğŸ“¦ Dependencias Principales

### Frontend
- **React 18** - Framework UI
- **React Router DOM** - Enrutamiento
- **React Icons** - IconografÃ­a
- **qrcode.react** - GeneraciÃ³n de QR en React
- **html5-qrcode** - Lectura de QR desde cÃ¡mara
- **Bootstrap 5** - Estilos base
- **Vite** - Build tool

### Backend
- **Express** - Framework web
- **MySQL2** - Driver de MySQL con soporte de promesas
- **QRCode** - GeneraciÃ³n de imÃ¡genes QR
- **CORS** - Control de acceso entre orÃ­genes
- **Node.js 18+** - Runtime

## ğŸ› SoluciÃ³n de Problemas

### Error: "Cannot connect to MySQL"
```bash
# Verifica que MySQL estÃ© corriendo
mysql -u root -p

# Verifica las credenciales en .env
DB_USER=root
DB_PASSWORD=tu_contraseÃ±a
```

### Error: "Port 3001 already in use"
```bash
# Encuentra y cierra el proceso
lsof -i :3001
kill -9 <PID>

# O cambia el puerto en .env
PORT=3002
```

### Error: "Module not found"
```bash
# Re-instala las dependencias
rm -rf node_modules package-lock.json
npm install
```

### La cÃ¡mara no funciona
- Verifica permisos del navegador para cÃ¡mara
- Usa HTTPS en producciÃ³n (requerido por navegadores)
- Prueba con diferentes navegadores (Chrome recomendado)

## ğŸ“š GuÃ­a de Uso

### Para Registrar un Reactivo

1. Ve a "Alta de Reactivos" desde el menÃº
2. Completa los campos obligatorios (nombre y clasificaciÃ³n)
3. Usa el botÃ³n "ğŸ” Buscar" para obtener la fÃ³rmula automÃ¡ticamente
4. Completa informaciÃ³n adicional segÃºn disponibilidad
5. Presiona "ğŸ’¾ Registrar Reactivo"
6. El sistema generarÃ¡ el cÃ³digo QR automÃ¡ticamente
7. Descarga el QR e imprÃ­melo para pegarlo en el frasco

### Para Consultar un Reactivo

**OpciÃ³n 1: Escanear QR**
1. Ve a "Lector QR"
2. Permite acceso a la cÃ¡mara
3. Apunta al cÃ³digo QR del reactivo
4. Visualiza la informaciÃ³n completa

**OpciÃ³n 2: Buscar en lista**
1. Ve a "Mostrar Reactivos"
2. Usa los filtros de bÃºsqueda
3. Click en cualquier tarjeta para ver detalles

## ğŸš€ Despliegue en ProducciÃ³n

### Frontend (Vite)

```bash
npm run build
# Los archivos estarÃ¡n en /dist

# Sirve los archivos con un servidor web (nginx, apache, vercel, etc.)
```

### Backend (Node.js)

```bash
# Configurar variables de entorno de producciÃ³n
NODE_ENV=production

# Usar PM2 para gestiÃ³n de procesos
npm install -g pm2
pm2 start server.js --name inventario-api
pm2 save
pm2 startup
```

### Base de Datos

- Crear respaldo regular con `mysqldump`
- Configurar usuario de BD especÃ­fico para la aplicaciÃ³n
- Usar conexiones SSL en producciÃ³n

## ğŸ¤ Contribuir

Este proyecto fue desarrollado como parte del servicio social en la UTQ. Para contribuir:

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## ğŸ‘¥ Equipo de Desarrollo

Proyecto de Servicio Social - Universidad TecnolÃ³gica de QuerÃ©taro
Laboratorio de NanotecnologÃ­a - 2026

## ğŸ“ Licencia

Este proyecto es de cÃ³digo abierto bajo licencia MIT.

## ğŸ“ Soporte

Para problemas o preguntas:
- Abre un issue en el repositorio
- Contacta al equipo de desarrollo
- Consulta la documentaciÃ³n tÃ©cnica

## âœ… Checklist de Mejoras Futuras

- [ ] Sistema de autenticaciÃ³n de usuarios
- [ ] Reportes en PDF/Excel
- [ ] Notificaciones por email de stock bajo
- [ ] Historial de movimientos con firma digital
- [ ] App mÃ³vil nativa (Flutter/React Native)
- [ ] IntegraciÃ³n con sistema de compras
- [ ] Dashboard de analÃ­tica avanzada
- [ ] Multi-idioma (i18n)
- [ ] Modo oscuro
- [ ] Backup automÃ¡tico de BD

---

**Â¡Gracias por usar el Sistema de GestiÃ³n de Inventario de Reactivos! ğŸ§ª**